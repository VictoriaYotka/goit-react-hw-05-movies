{"version":3,"file":"static/js/961.26c47614.chunk.js","mappings":"mIAAA,IACMA,EAAU,CAACC,QAAS,CAACC,cAAe,+NAU1C,IARA,SAAoBC,GAChB,OAAOC,MAAM,GAAD,OAJC,+BAID,YAAgBD,GAASH,GAASK,MAAM,SAAAC,GAChD,OAAIA,EAASC,GAEND,EAASE,OAFQC,QAAQC,OAAOJ,EAASK,OAGnD,GACJ,C,qFCyDD,UA7DqB,WAAO,IAAD,IAClBC,GAAWC,EAAAA,EAAAA,MAAXD,QACP,GAA0BE,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAAgCJ,EAAAA,EAAAA,UAAS,IAAzC,eAAOK,EAAP,KAAiBC,EAAjB,KACA,GAA4BN,EAAAA,EAAAA,UAAS,IAArC,eAAOO,EAAP,KAAeC,EAAf,KACA,GAA4BR,EAAAA,EAAAA,UAAS,IAArC,eAAOS,EAAP,KAAeC,EAAf,KACA,GAAkCV,EAAAA,EAAAA,WAAS,GAA3C,eAAOW,EAAP,KAAkBC,EAAlB,KAEMC,EAAU,qBADCC,EAAAA,EAAAA,MACYC,aAAb,aAAI,EAAgBC,YAApB,QAA4B,IAmB5C,OAjBAC,EAAAA,EAAAA,YAAU,WACNL,GAAa,IACbM,EAAAA,EAAAA,GAAU,UAAD,OAAWpB,EAAX,oCACRP,MAAK,SAAC4B,GACLjB,EAASiB,EAAKlB,OACdG,EAA+B,OAArBe,EAAKC,YAAL,yCAC2BD,EAAKC,aACtC,uGACJd,EAAYa,EAAKd,UACjBG,EAAUW,EAAKZ,OAAOc,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,KAAK,OACpDd,EAAgC,IAAtBS,EAAKM,aAAqBN,EAAKM,aAAaC,QAAQ,GAAK,EAEpE,IACAC,MAAMC,QAAQC,KACdC,SAAQ,kBAAMlB,GAAa,EAAnB,GACZ,GAAE,CAACd,KAGF,2BACGa,IAAa,uCACd,4BACE,SAAC,KAAD,CAASoB,GAAIlB,EAAb,uBACA,0BAAK,gBAAKmB,IAAK7B,EAAQ8B,IAAI,SAASC,MAAM,WAC1C,4BACE,wBAAKjC,IACO,IAAXQ,GACC,oCAAYA,KACZ,KAEDJ,IAAY,iCACX,sCACA,uBAAIA,OAELE,IAAU,iCACT,oCACA,uBAAIA,cAIV,2BACE,yBAAI,SAAC,KAAD,CAASwB,GAAG,OAAZ,qBACJ,yBAAI,SAAC,KAAD,CAASA,GAAG,UAAZ,2BAEN,SAAC,EAAAI,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,QAIP,C","sources":["components/services.js","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3';\nconst OPTIONS = {headers: {Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZWIxOWFlZTJiNTU2ZTg3MmFlYjRkMTJmM2UzZDBlZiIsInN1YiI6IjY0NmY2NjQzMTdjNDQzMDBjMjI0OTMzZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.nSQ1KLIUK97f2ypbV38GEeFR4HBt9RE_gR1cSa6SUjM'}}\n\nfunction fetchFunc (query) {\n    return fetch(`${BASE_URL}/${query}`, OPTIONS).then( response => {\n        if(!response.ok) return Promise.reject(response.status)\n        // console.log(response)\n        return response.json(); \n    })\n}\n\nexport default fetchFunc;\n\n","import { Outlet, NavLink, useParams, useLocation } from \"react-router-dom\"\nimport { Suspense } from \"react\";\nimport { useState, useEffect } from \"react\";\nimport fetchFunc from \"components/services\";\n\nconst MovieDetails = () => {\n  const {movieId} = useParams();\n  const [title, setTitle] = useState('');\n  const [poster, setPoster] = useState('')\n  const [overview, setOverview] = useState('');\n  const [genres, setGenres] = useState('');\n  const [rating, setRating] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const location = useLocation();\n  const goBackPath =  location.state?.from ?? '/';\n\n  useEffect(() => {\n      setIsLoading(true);\n      fetchFunc(`/movie/${movieId}?append_to_response=poster_path`)\n      .then((data) => {\n        setTitle(data.title);\n        setPoster(data.poster_path !== null \n          ?`https://image.tmdb.org/t/p/w500${data.poster_path}` \n          : 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQb17OLPVxDbgiMnuuXiy3uJoJaUQRsGB6y8Q&usqp=CAU')\n        setOverview(data.overview);\n        setGenres(data.genres.map(genre => genre.name).join(', '));\n        setRating(data.vote_average !== 0 ? data.vote_average.toFixed(1) : 0);\n        // console.log(data)\n      })\n      .catch(console.log)\n      .finally(() => setIsLoading(false))\n  }, [movieId])\n\n  return (\n    <div>\n      {isLoading && <p>Loading...</p>}\n      <div>\n        <NavLink to={goBackPath}> Go back</NavLink>\n        <div><img src={poster} alt=\"poster\" width='320'/></div>\n        <div>\n          <h2>{title}</h2>\n          {rating !== 0\n          ? <p>Rating: {rating}</p>\n          : null\n          }\n          {overview && <>\n            <h4>Overview</h4>\n            <p>{overview}</p>\n            </>}\n          {genres && <>\n            <h4>Genres</h4>\n            <p>{genres}</p>\n            </>}\n        </div>\n      </div>\n      <ul>\n        <li><NavLink to=\"cast\">Cast</NavLink></li>\n        <li><NavLink to=\"reviews\">Reviews</NavLink></li>\n      </ul>\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </div>\n  )\n}\n\nexport default MovieDetails"],"names":["OPTIONS","headers","Authorization","query","fetch","then","response","ok","json","Promise","reject","status","movieId","useParams","useState","title","setTitle","poster","setPoster","overview","setOverview","genres","setGenres","rating","setRating","isLoading","setIsLoading","goBackPath","useLocation","state","from","useEffect","fetchFunc","data","poster_path","map","genre","name","join","vote_average","toFixed","catch","console","log","finally","to","src","alt","width","Suspense","fallback"],"sourceRoot":""}