{"version":3,"file":"static/js/135.3c75b35f.chunk.js","mappings":"mIAAA,IACMA,EAAU,CAACC,QAAS,CAACC,cAAe,+NAU1C,IARA,SAAoBC,GAChB,OAAOC,MAAM,GAAD,OAJC,+BAID,YAAgBD,GAASH,GAASK,MAAM,SAAAC,GAChD,OAAIA,EAASC,GAEND,EAASE,OAFQC,QAAQC,OAAOJ,EAASK,OAGnD,GACJ,C,kHCRD,GAAgB,OAAS,6BAA6B,QAAU,8BAA8B,OAAS,6BAA6B,MAAQ,4BAA4B,KAAO,2BAA2B,KAAO,4B,kBCuEjN,EAjEqB,WAAO,IAAD,IAClBC,GAAWC,EAAAA,EAAAA,MAAXD,QACP,GAA0BE,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAAgCJ,EAAAA,EAAAA,UAAS,IAAzC,eAAOK,EAAP,KAAiBC,EAAjB,KACA,GAA4BN,EAAAA,EAAAA,UAAS,IAArC,eAAOO,EAAP,KAAeC,EAAf,KACA,GAA4BR,EAAAA,EAAAA,UAAS,IAArC,eAAOS,EAAP,KAAeC,EAAf,KACA,GAAkCV,EAAAA,EAAAA,WAAS,GAA3C,eAAOW,EAAP,KAAkBC,EAAlB,KAEMC,EAAU,qBADCC,EAAAA,EAAAA,SAAOC,EAAAA,EAAAA,OACKC,QAAQC,aAArB,aAAI,EAAwBC,YAA5B,QAAoC,IAoBpD,OAjBAC,EAAAA,EAAAA,YAAU,WACNP,GAAa,IACbQ,EAAAA,EAAAA,GAAU,UAAD,OAAWtB,EAAX,oCACRP,MAAK,SAAC8B,GACLnB,EAASmB,EAAKpB,OACdG,EAA+B,OAArBiB,EAAKC,YAAL,yCAC2BD,EAAKC,aACtC,uGACJhB,EAAYe,EAAKhB,UACjBG,EAAUa,EAAKd,OAAOgB,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,KAAK,OACpDhB,EAAgC,IAAtBW,EAAKM,aAAqBN,EAAKM,aAAaC,QAAQ,GAAK,EAEpE,IACAC,MAAMC,QAAQC,KACdC,SAAQ,kBAAMpB,GAAa,EAAnB,GACZ,GAAE,CAACd,KAGF,4BACE,SAAC,KAAD,CAAMmC,GAAIpB,EAAYqB,UAAWC,EAAAA,OAAjC,SAA6C,mBAC5CxB,IAAa,SAACyB,EAAA,EAAD,KACd,iBAAKF,UAAWC,EAAAA,QAAhB,WACE,0BACE,gBAAKE,IAAKlC,EAAQmC,IAAI,SAASC,MAAM,WAEvC,4BACE,eAAIL,UAAWC,EAAAA,MAAf,SAA2BlC,IACf,IAAXQ,GACC,gBAAIyB,UAAWC,EAAAA,OAAf,UAA2B,WAAS1B,EAAO,WAC3C,KAEDJ,IAAY,iCACX,wBAAI,cACJ,cAAG6B,UAAWC,EAAAA,MAAd,SAA0B9B,OAE3BE,IAAU,iCACT,wBAAI,YACJ,uBAAIA,cAIV,wBAAI,eACJ,gBAAI2B,UAAWC,EAAAA,KAAf,WACE,eAAID,UAAWC,EAAAA,KAAf,UAAyB,SAAC,KAAD,CAASF,GAAG,OAAZ,SAAoB,YAC7C,eAAIC,UAAWC,EAAAA,KAAf,UAAyB,SAAC,KAAD,CAASF,GAAG,UAAZ,SAAuB,kBAElD,SAAC,EAAAO,SAAD,CAAUC,UAAU,yBAAK,eAAzB,UACE,SAAC,KAAD,QAIP,C","sources":["components/services.js","webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3';\nconst OPTIONS = {headers: {Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZWIxOWFlZTJiNTU2ZTg3MmFlYjRkMTJmM2UzZDBlZiIsInN1YiI6IjY0NmY2NjQzMTdjNDQzMDBjMjI0OTMzZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.nSQ1KLIUK97f2ypbV38GEeFR4HBt9RE_gR1cSa6SUjM'}}\n\nfunction fetchFunc (query) {\n    return fetch(`${BASE_URL}/${query}`, OPTIONS).then( response => {\n        if(!response.ok) return Promise.reject(response.status)\n        // console.log(response)\n        return response.json(); \n    })\n}\n\nexport default fetchFunc;\n\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"MovieDetails_button__uXZxd\",\"wrapper\":\"MovieDetails_wrapper__YMWLn\",\"rating\":\"MovieDetails_rating__Vt2mI\",\"descr\":\"MovieDetails_descr__4U2CA\",\"list\":\"MovieDetails_list__dbNMP\",\"link\":\"MovieDetails_link__U+v+7\"};","import { Outlet, NavLink, Link, useParams, useLocation } from \"react-router-dom\"\nimport { Suspense, useRef } from \"react\";\nimport { useState, useEffect } from \"react\";\nimport fetchFunc from \"components/services\";\nimport css from './MovieDetails.module.css'\nimport Loading from \"components/Loading/Loading\";\n\nconst MovieDetails = () => {\n  const {movieId} = useParams();\n  const [title, setTitle] = useState('');\n  const [poster, setPoster] = useState('')\n  const [overview, setOverview] = useState('');\n  const [genres, setGenres] = useState('');\n  const [rating, setRating] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const location = useRef(useLocation());\n  const goBackPath =  location.current.state?.from ?? '/';\n\n\n  useEffect(() => {\n      setIsLoading(true);\n      fetchFunc(`/movie/${movieId}?append_to_response=poster_path`)\n      .then((data) => {\n        setTitle(data.title);\n        setPoster(data.poster_path !== null \n          ?`https://image.tmdb.org/t/p/w500${data.poster_path}` \n          : 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQb17OLPVxDbgiMnuuXiy3uJoJaUQRsGB6y8Q&usqp=CAU')\n        setOverview(data.overview);\n        setGenres(data.genres.map(genre => genre.name).join(', '));\n        setRating(data.vote_average !== 0 ? data.vote_average.toFixed(1) : 0);\n        // console.log(data)\n      })\n      .catch(console.log)\n      .finally(() => setIsLoading(false));\n  }, [movieId])\n\n  return (\n    <div>\n      <Link to={goBackPath} className={css.button}>‚Üê Go back</Link>\n      {isLoading && <Loading/>}\n      <div className={css.wrapper}>\n        <div>\n          <img src={poster} alt=\"poster\" width='320'/>\n        </div>\n        <div>\n          <h2 className={css.title}>{title}</h2>\n          {rating !== 0\n          ? <h5 className={css.rating}>Rating: {rating} / 10</h5>\n          : null\n          }\n          {overview && <>\n            <h4>Overview</h4>\n            <p className={css.descr}>{overview}</p>\n            </>}\n          {genres && <>\n            <h4>Genres</h4>\n            <p>{genres}</p>\n            </>}\n        </div>\n      </div>\n      <h4>See more:</h4>\n      <ul className={css.list}>\n        <li className={css.link}><NavLink to=\"cast\" >Cast</NavLink></li>\n        <li className={css.link}><NavLink to=\"reviews\" >Reviews</NavLink></li>\n      </ul>\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </div>\n  )\n}\n\nexport default MovieDetails"],"names":["OPTIONS","headers","Authorization","query","fetch","then","response","ok","json","Promise","reject","status","movieId","useParams","useState","title","setTitle","poster","setPoster","overview","setOverview","genres","setGenres","rating","setRating","isLoading","setIsLoading","goBackPath","useRef","useLocation","current","state","from","useEffect","fetchFunc","data","poster_path","map","genre","name","join","vote_average","toFixed","catch","console","log","finally","to","className","css","Loading","src","alt","width","Suspense","fallback"],"sourceRoot":""}