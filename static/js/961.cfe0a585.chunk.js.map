{"version":3,"file":"static/js/961.cfe0a585.chunk.js","mappings":"mIACA,IACMA,EAAU,CAACC,QAAS,CAACC,cAAe,+NAa1C,IAVA,SAAoBC,GAChB,OAAOC,MAAM,GAAD,OALC,+BAKD,YAAgBD,GAASH,GAASK,MAAM,SAAAC,GAChD,OAAIA,EAASC,GAIND,EAASE,OAHLC,QAAQC,OAAOJ,EAASK,OAItC,GACJ,C,qFCsDD,UA9DqB,WAAO,IAAD,IAClBC,GAAWC,EAAAA,EAAAA,MAAXD,QAET,GAA0BE,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAAgCJ,EAAAA,EAAAA,UAAS,IAAzC,eAAOK,EAAP,KAAiBC,EAAjB,KACA,GAA4BN,EAAAA,EAAAA,UAAS,IAArC,eAAOO,EAAP,KAAeC,EAAf,KACA,GAA4BR,EAAAA,EAAAA,UAAS,IAArC,eAAOS,EAAP,KAAeC,EAAf,KAGMC,EAAU,qBADCC,EAAAA,EAAAA,MACYC,aAAb,aAAI,EAAgBC,YAApB,QAA4B,IAe1C,OAbFC,EAAAA,EAAAA,YAAU,YACNC,EAAAA,EAAAA,GAAU,UAAD,OAAWlB,EAAX,oCACRP,MAAK,SAAC0B,GACLf,EAASe,EAAKhB,OACdG,EAAU,kCAAD,OAAmCa,EAAKC,cACjDZ,EAAYW,EAAKZ,UACjBG,EAAUS,EAAKV,OAAOY,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,KAAK,OACpDZ,EAAUO,EAAKM,aAAaC,QAAQ,GAErC,IACAC,MAAMC,QAAQC,IAClB,GAAE,CAAC7B,KAGA,iCACA,4BACE,SAAC,KAAD,CAAS8B,GAAIjB,EAAb,uBACA,0BAAK,gBAAKkB,IAAK1B,EAAQ2B,IAAI,SAASC,MAAM,WAC1C,4BACE,wBAAK9B,IACJQ,IACD,oCAAYA,KAEbJ,IACD,iCACA,sCACE,uBAAIA,OAGLE,IACD,iCACA,oCACE,uBAAIA,cAMR,2BACE,yBAAI,SAAC,KAAD,CAASqB,GAAG,OAAZ,qBACJ,yBAAI,SAAC,KAAD,CAASA,GAAG,UAAZ,2BAGJ,SAAC,EAAAI,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,QAIP,C","sources":["components/services.js","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["// https://api.themoviedb.org/3/movie/550?api_key=1eb19aee2b556e872aeb4d12f3e3d0ef\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst OPTIONS = {headers: {Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZWIxOWFlZTJiNTU2ZTg3MmFlYjRkMTJmM2UzZDBlZiIsInN1YiI6IjY0NmY2NjQzMTdjNDQzMDBjMjI0OTMzZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.nSQ1KLIUK97f2ypbV38GEeFR4HBt9RE_gR1cSa6SUjM'}}\n// const KEY = '1eb19aee2b556e872aeb4d12f3e3d0ef';\n\nfunction fetchFunc (query) {\n    return fetch(`${BASE_URL}/${query}`, OPTIONS).then( response => {\n        if(!response.ok) {\n            return Promise.reject(response.status)\n        }\n        // console.log(response)\n        return response.json(); \n    })\n}\n\nexport default fetchFunc;\n\n","import { Outlet, NavLink, useParams, useLocation } from \"react-router-dom\"\nimport { Suspense } from \"react\";\nimport { useState, useEffect } from \"react\";\nimport fetchFunc from \"components/services\";\n\nconst MovieDetails = () => {\n  const {movieId} = useParams();\n\nconst [title, setTitle] = useState('');\nconst [poster, setPoster] = useState('')\nconst [overview, setOverview] = useState('');\nconst [genres, setGenres] = useState('');\nconst [rating, setRating] = useState('')\n\nconst location = useLocation();\nconst goBackPath =  location.state?.from ?? '/';\n\nuseEffect(() => {\n    fetchFunc(`/movie/${movieId}?append_to_response=poster_path`)\n    .then((data) => {\n      setTitle(data.title);\n      setPoster(`https://image.tmdb.org/t/p/w500${data.poster_path}`)\n      setOverview(data.overview);\n      setGenres(data.genres.map(genre => genre.name).join(', '));\n      setRating(data.vote_average.toFixed(1));\n      // console.log(data)\n    })\n    .catch(console.log)\n}, [movieId])\n\n  return (\n    <>\n    <div>\n      <NavLink to={goBackPath}> Go back</NavLink>\n      <div><img src={poster} alt=\"poster\" width='320'/></div>\n      <div>\n        <h2>{title}</h2>\n        {rating && \n        <p>Rating: {rating}</p>\n      }\n      {overview && \n      <>\n      <h4>Overview</h4>\n        <p>{overview}</p>\n        </>\n      }\n      {genres && \n      <>\n      <h4>Genres</h4>\n        <p>{genres}</p>\n        </>\n      }\n      </div>\n    </div>\n\n    <ul>\n      <li><NavLink to=\"cast\">Cast</NavLink></li>\n      <li><NavLink to=\"reviews\">Reviews</NavLink></li>\n    </ul>\n      \n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </>\n  )\n}\n\nexport default MovieDetails"],"names":["OPTIONS","headers","Authorization","query","fetch","then","response","ok","json","Promise","reject","status","movieId","useParams","useState","title","setTitle","poster","setPoster","overview","setOverview","genres","setGenres","rating","setRating","goBackPath","useLocation","state","from","useEffect","fetchFunc","data","poster_path","map","genre","name","join","vote_average","toFixed","catch","console","log","to","src","alt","width","Suspense","fallback"],"sourceRoot":""}